<div id="pages-container" class="flex h-screen overflow-hidden">
    <!-- Main Navigation (Icon Rail) -->
    <app-main-nav />

    <!-- Sub Sidebar (Conditional) -->
    @if (hasSidebar()) {
    <div id="pages-sidebar-wrapper" class="transition-all duration-300 ease-in-out">
        @switch (sidebarType()) {
        @case ('folders') {
        <app-sidebar [folders]="folders()" [selectedFolderId]="selectedFolderId()"
            (folderSelected)="onFolderSelected($event)" (addFolderClicked)="onAddFolder()"
            (settingsClicked)="onSettings()" (folderSettingsClicked)="onFolderSettings()"
            (profilesDirectoryChanged)="onProfilesDirectoryChanged($event)" />
        }
        @case ('extensions') {
        <!-- Extensions sidebar placeholder -->
        <aside id="pages-extensions-sidebar" class="flex flex-col h-screen w-60 border-r border-surface">
            <div id="pages-extensions-sidebar-header" class="px-4 py-4 border-b border-surface">
                <span id="pages-extensions-sidebar-title" class="text-base font-semibold text-color">Extensions</span>
            </div>
            <div id="pages-extensions-sidebar-content"
                class="flex-1 flex items-center justify-center text-color text-sm">
                Coming soon...
            </div>
        </aside>
        }
        }
    </div>
    }

    <!-- Main Content -->
    <main id="pages-main-content" class="flex-1 flex flex-col overflow-hidden">
        <router-outlet />
    </main>
</div>