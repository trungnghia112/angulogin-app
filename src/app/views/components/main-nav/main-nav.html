<nav class="flex flex-col h-screen w-16 bg-rail border-r border-border">
    <!-- Logo - matches header height -->
    <div class="flex items-center justify-center h-(--spacing-header) shrink-0 border-b border-border">
        <svg class="w-9 h-9 logo-animated" viewBox="0 0 1024 576">
            <defs>
                <linearGradient id="navLogoGradient" x1="200" y1="500" x2="800" y2="100" gradientUnits="userSpaceOnUse">
                    <stop offset="0" stop-color="#E40035" />
                    <stop offset="0.24" stop-color="#F60A48" />
                    <stop offset="0.352" stop-color="#F20755" />
                    <stop offset="0.494" stop-color="#DC087D" />
                    <stop offset="0.745" stop-color="#9717E7" />
                    <stop offset="1" stop-color="#6C00F5" />
                </linearGradient>
                <linearGradient id="navLogoHighlight" x1="300" y1="80" x2="700" y2="400" gradientUnits="userSpaceOnUse">
                    <stop offset="0" stop-color="#FF31D9" />
                    <stop offset="1" stop-color="#FF5BE1" stop-opacity="0" />
                </linearGradient>
            </defs>
            <g fill="url(#navLogoGradient)">
                <path
                    d="M476.630127,97.736053 C478.522003,92.338257 480.409027,87.350143 482.020325,82.274506 C483.294556,78.260635 485.447968,76.544731 489.988525,76.612175 C506.649292,76.859642 523.320312,76.794456 539.980042,76.469063 C543.997070,76.390594 545.507874,77.922234 546.726990,81.373528 C558.983276,116.069756 571.393066,150.711731 583.715332,185.384720 C598.431946,226.794785 613.075562,268.230804 627.808044,309.635193 C637.297485,336.304535 646.889587,362.937347 656.437500,389.585846 C656.606018,390.056213 656.814453,390.512604 656.974243,390.985657 C659.617859,398.814117 659.346252,398.637543 651.326355,399.341858 C643.470642,400.031799 638.162231,397.134888 632.546021,391.732605 C605.170715,365.399658 577.330139,339.549194 549.545471,313.644562 C546.504761,310.809601 545.005432,307.882721 545.019226,303.678619 C545.119446,273.182190 545.027954,242.685135 545.046570,212.188324 C545.051453,204.282974 545.078552,204.237900 536.921570,204.238678 C521.756165,204.240128 506.590698,204.237793 491.425262,204.225494 C484.105713,204.219543 483.392883,204.874405 483.426697,212.160034 C483.568237,242.651688 483.662109,273.143982 483.973053,303.634003 C484.020081,308.247467 482.345734,311.228546 478.983643,314.328003 C461.714966,330.247711 444.757507,346.504486 427.638367,362.587067 C415.499939,373.990509 403.184631,385.207520 391.157562,396.726257 C388.145630,399.610901 384.831421,399.235168 381.400848,399.184113 C369.369720,399.005188 368.629944,401.096954 373.325043,387.927185 C386.963898,349.670135 400.394226,311.338776 414.019135,273.076721 C427.756439,234.499130 441.646912,195.976135 455.434753,157.416504 C462.498627,137.661316 469.484955,117.878380 476.630127,97.736053 M523.825867,157.546463 C520.948364,149.615723 518.946045,141.335709 515.345764,133.555771 C514.157288,134.196884 513.711670,134.280655 513.604797,134.517365 C508.203186,146.481049 505.059357,159.246231 500.526062,171.521118 C499.789459,173.515640 500.922852,174.713272 503.056183,174.716568 C510.359070,174.727844 517.663147,174.779953 524.964355,174.662033 C527.906555,174.614532 529.215515,173.048218 528.168884,170.041138 C526.805847,166.125168 525.442688,162.209259 523.825867,157.546463z" />
                <path
                    d="M385.869019,219.884399 C370.592651,229.329132 355.614441,238.565964 340.854828,247.667984 C341.412903,250.807587 343.526123,251.387253 345.160492,252.394623 C360.330872,261.744904 375.468750,271.150146 390.743866,280.326691 C394.518616,282.594360 395.766541,284.849243 393.988220,289.204956 C390.654846,297.369537 387.849731,305.750427 384.854218,314.051941 C383.707733,317.229279 382.311249,318.119232 378.975616,316.035400 C352.702057,299.621826 326.332031,283.362183 299.950165,267.122650 C285.080688,257.969635 284.944641,239.753098 299.840271,230.490891 C322.612122,216.331192 345.439667,202.261047 368.248657,188.161087 C379.014008,181.506226 389.779663,174.851669 400.574280,168.244522 C402.362427,167.150024 403.977417,165.511414 406.672089,165.806946 C408.071472,168.730042 407.439331,171.929764 407.470459,174.989883 C407.558533,183.647751 406.988373,192.317581 407.887177,200.958603 C408.295959,204.888397 406.970612,207.506882 403.330231,209.459335 C397.468689,212.603058 391.874420,216.245041 385.869019,219.884399z" />
                <path
                    d="M675.717896,197.217712 C693.841614,208.487167 711.684998,219.518448 729.465759,230.649597 C740.819641,237.757355 743.567017,249.915588 736.452087,260.755554 C734.958435,263.031158 733.043945,264.817474 730.737976,266.234161 C704.070984,282.617249 677.413208,299.015381 650.741577,315.390839 C645.566650,318.568115 645.578552,318.496033 643.632385,312.932922 C640.884399,305.077759 638.236694,297.176178 635.127747,289.463043 C633.440125,285.276154 634.167847,282.908051 638.129150,280.547119 C653.713989,271.258423 669.118713,261.667175 684.570740,252.156311 C685.942505,251.311981 687.670715,250.814926 688.298889,248.946106 C687.908081,246.817947 685.872253,246.413361 684.403687,245.498474 C664.762451,233.262115 645.128235,221.013748 625.395447,208.926315 C622.291077,207.024704 621.153992,204.847900 621.277588,201.216873 C621.622864,191.075500 621.564819,180.920578 621.687744,170.771286 C621.707458,169.140060 621.359863,167.444901 622.715820,165.087387 C640.745422,175.075974 657.832703,186.468033 675.717896,197.217712z" />
            </g>
            <g fill="url(#navLogoHighlight)">
                <path
                    d="M476.630127,97.736053 C478.522003,92.338257 480.409027,87.350143 482.020325,82.274506 C483.294556,78.260635 485.447968,76.544731 489.988525,76.612175 C506.649292,76.859642 523.320312,76.794456 539.980042,76.469063 C543.997070,76.390594 545.507874,77.922234 546.726990,81.373528 C558.983276,116.069756 571.393066,150.711731 583.715332,185.384720 C598.431946,226.794785 613.075562,268.230804 627.808044,309.635193 C637.297485,336.304535 646.889587,362.937347 656.437500,389.585846 C656.606018,390.056213 656.814453,390.512604 656.974243,390.985657 C659.617859,398.814117 659.346252,398.637543 651.326355,399.341858 C643.470642,400.031799 638.162231,397.134888 632.546021,391.732605 C605.170715,365.399658 577.330139,339.549194 549.545471,313.644562 C546.504761,310.809601 545.005432,307.882721 545.019226,303.678619 C545.119446,273.182190 545.027954,242.685135 545.046570,212.188324 C545.051453,204.282974 545.078552,204.237900 536.921570,204.238678 C521.756165,204.240128 506.590698,204.237793 491.425262,204.225494 C484.105713,204.219543 483.392883,204.874405 483.426697,212.160034 C483.568237,242.651688 483.662109,273.143982 483.973053,303.634003 C484.020081,308.247467 482.345734,311.228546 478.983643,314.328003 C461.714966,330.247711 444.757507,346.504486 427.638367,362.587067 C415.499939,373.990509 403.184631,385.207520 391.157562,396.726257 C388.145630,399.610901 384.831421,399.235168 381.400848,399.184113 C369.369720,399.005188 368.629944,401.096954 373.325043,387.927185 C386.963898,349.670135 400.394226,311.338776 414.019135,273.076721 C427.756439,234.499130 441.646912,195.976135 455.434753,157.416504 C462.498627,137.661316 469.484955,117.878380 476.630127,97.736053 M523.825867,157.546463 C520.948364,149.615723 518.946045,141.335709 515.345764,133.555771 C514.157288,134.196884 513.711670,134.280655 513.604797,134.517365 C508.203186,146.481049 505.059357,159.246231 500.526062,171.521118 C499.789459,173.515640 500.922852,174.713272 503.056183,174.716568 C510.359070,174.727844 517.663147,174.779953 524.964355,174.662033 C527.906555,174.614532 529.215515,173.048218 528.168884,170.041138 C526.805847,166.125168 525.442688,162.209259 523.825867,157.546463z" />
                <path
                    d="M385.869019,219.884399 C370.592651,229.329132 355.614441,238.565964 340.854828,247.667984 C341.412903,250.807587 343.526123,251.387253 345.160492,252.394623 C360.330872,261.744904 375.468750,271.150146 390.743866,280.326691 C394.518616,282.594360 395.766541,284.849243 393.988220,289.204956 C390.654846,297.369537 387.849731,305.750427 384.854218,314.051941 C383.707733,317.229279 382.311249,318.119232 378.975616,316.035400 C352.702057,299.621826 326.332031,283.362183 299.950165,267.122650 C285.080688,257.969635 284.944641,239.753098 299.840271,230.490891 C322.612122,216.331192 345.439667,202.261047 368.248657,188.161087 C379.014008,181.506226 389.779663,174.851669 400.574280,168.244522 C402.362427,167.150024 403.977417,165.511414 406.672089,165.806946 C408.071472,168.730042 407.439331,171.929764 407.470459,174.989883 C407.558533,183.647751 406.988373,192.317581 407.887177,200.958603 C408.295959,204.888397 406.970612,207.506882 403.330231,209.459335 C397.468689,212.603058 391.874420,216.245041 385.869019,219.884399z" />
                <path
                    d="M675.717896,197.217712 C693.841614,208.487167 711.684998,219.518448 729.465759,230.649597 C740.819641,237.757355 743.567017,249.915588 736.452087,260.755554 C734.958435,263.031158 733.043945,264.817474 730.737976,266.234161 C704.070984,282.617249 677.413208,299.015381 650.741577,315.390839 C645.566650,318.568115 645.578552,318.496033 643.632385,312.932922 C640.884399,305.077759 638.236694,297.176178 635.127747,289.463043 C633.440125,285.276154 634.167847,282.908051 638.129150,280.547119 C653.713989,271.258423 669.118713,261.667175 684.570740,252.156311 C685.942505,251.311981 687.670715,250.814926 688.298889,248.946106 C687.908081,246.817947 685.872253,246.413361 684.403687,245.498474 C664.762451,233.262115 645.128235,221.013748 625.395447,208.926315 C622.291077,207.024704 621.153992,204.847900 621.277588,201.216873 C621.622864,191.075500 621.564819,180.920578 621.687744,170.771286 C621.707458,169.140060 621.359863,167.444901 622.715820,165.087387 C640.745422,175.075974 657.832703,186.468033 675.717896,197.217712z" />
            </g>
        </svg>
    </div>

    <!-- Feature Navigation -->
    <div class="flex-1 flex flex-col items-center py-3 gap-1">
        @for (feature of features(); track feature.id) {
        <button class="relative w-11 h-11 rounded-xl flex items-center justify-center transition-all duration-200 group"
            [class]="isActive(feature.id) 
          ? 'bg-primary/20 text-primary' 
          : 'text-zinc-500 hover:text-zinc-300 hover:bg-surface-hover'" [pTooltip]="feature.name"
            tooltipPosition="right" (click)="selectFeature(feature.id)">
            <i [class]="'pi ' + feature.icon + ' text-lg'"></i>


            <!-- Badge -->
            @if (feature.badge) {
            <span
                class="absolute -top-1 -right-1 w-4 h-4 bg-error rounded-full text-[10px] text-white flex items-center justify-center font-medium">
                {{ feature.badge }}
            </span>
            }
        </button>
        }
    </div>

    <!-- Bottom Actions -->
    <div class="flex flex-col items-center py-3 gap-1 border-t border-border">
        <!-- Settings -->
        <button
            class="w-11 h-11 rounded-xl flex items-center justify-center text-zinc-500 hover:text-zinc-300 hover:bg-surface-hover transition-all duration-200"
            pTooltip="Settings" tooltipPosition="right">
            <i class="pi pi-cog text-lg"></i>
        </button>

        <!-- User Avatar -->
        <button
            class="w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-sm font-medium mt-2"
            pTooltip="Profile" tooltipPosition="right">
            JT
        </button>
    </div>
</nav>