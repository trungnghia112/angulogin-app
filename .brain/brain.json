{
    "meta": {
        "schema_version": "1.1.0",
        "awf_version": "3.3.0"
    },
    "project": {
        "name": "Chrome Profile Manager",
        "type": "Angular + Tauri Desktop Application",
        "status": "Active Development"
    },
    "tech_stack": {
        "frontend": {
            "framework": "Angular 21",
            "ui_library": "PrimeNG 21",
            "styling": "Tailwind CSS 4 + tailwindcss-primeui",
            "icons": "PrimeIcons"
        },
        "backend": {
            "hosting": "Firebase (Firestore)",
            "database": "Firestore",
            "desktop_bridge": "Tauri 2"
        }
    },
    "features": [
        "Profile Management (Grid/List View, Search, Sort, Filter)",
        "Directory Scanning for Chrome Profiles",
        "Dark/Light Mode with Persistence",
        "Folder/Group Organization",
        "Settings Page (Appearance, General, Browser Paths, Data)",
        "Dynamic Theme Engine (Primary Color, Surface, Scale)",
        "Extension Management (Placeholder)",
        "Automation (Placeholder)"
    ],
    "knowledge_items": {
        "patterns": [
            "Signal-based state management",
            "Standalone components as default (Angular 20+)",
            "Host class rule for page components: host: { class: 'flex-1 flex flex-col min-h-0 overflow-hidden' }",
            "p-menu [popup]=\"true\" for dropdown menus with menu.toggle($event)"
        ],
        "dark_mode_architecture": {
            "summary": "PrimeNG + Tailwind CSS unified dark mode using .dark class",
            "key_config": {
                "primeng_config": "darkModeSelector: '.dark' in providePrimeNG()",
                "tailwind_css": "@custom-variant dark (&:where(.dark, .dark *));"
            },
            "critical_insight": "PrimeNG surface scale is NOT inverted in dark mode! surface.0 = always WHITE (text), surface.950 = always DARK (background)",
            "template_pattern": {
                "backgrounds": [
                    "bg-surface-0 dark:bg-surface-900",
                    "bg-surface-50 dark:bg-surface-950",
                    "bg-surface-100 dark:bg-surface-800"
                ],
                "borders": [
                    "border-surface-200 dark:border-surface-700"
                ]
            },
            "toggle_mechanism": "Direct DOM manipulation: document.documentElement.classList.add/remove('dark')",
            "persistence": "localStorage via SettingsService"
        },
        "primeng_theming": {
            "update_primary_color": "import { updatePrimaryPalette } from '@primeuix/themes'; updatePrimaryPalette({ 50: '{blue.50}', ... })",
            "update_surface": "import { updateSurfacePalette } from '@primeuix/themes'; updateSurfacePalette({ 50: '{zinc.50}', ... })",
            "available_colors": [
                "emerald",
                "blue",
                "violet",
                "amber",
                "rose",
                "fuchsia"
            ],
            "available_surfaces": [
                "zinc",
                "slate",
                "gray",
                "neutral",
                "stone"
            ]
        },
        "gotchas": [
            "PrimeNG default darkModeSelector is 'system' (@media prefers-color-scheme) - NOT .dark class!",
            "tailwindcss-primeui does NOT auto-invert bg-surface-X in dark mode - must add dark: variants manually",
            "PrimeNG cssLayer: false to avoid conflict with Tailwind ordering",
            "Tailwind v4 CSS Variable syntax: h-[var(--spacing-header)] required for custom CSS variables",
            "Angular effect() may not work reliably in zoneless mode for DOM manipulation - use direct DOM APIs",
            "NO styleClass on PrimeNG - use class instead",
            "Must NOT set standalone: true in Angular v20+ (it's the default)"
        ],
        "conventions": [
            "Strict naming: [name].ts, [name].html, [name].css (NOT .component.ts)",
            "Tailwind only for layout/styling",
            "All page components must have host property with flex classes",
            "HTML ID format: [feature]-[section]-[index]",
            "Commit after every step with semantic messages"
        ]
    },
    "api_endpoints": [],
    "database_schema": {
        "collections": [
            {
                "name": "profiles",
                "fields": [
                    "id",
                    "name",
                    "path",
                    "browserType",
                    "metadata",
                    "userId"
                ]
            }
        ]
    }
}